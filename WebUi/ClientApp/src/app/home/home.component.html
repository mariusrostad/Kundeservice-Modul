<div class="container">
  <div class="row">

    <div id="faq" class="width-100">
      <!-- Category -->
      <div class="card"  *ngFor="let category of (categories | async)">
        <div class="card-header width-100">
          <h5 class="mb-0">
            <button class="btn btn-secondary btn-lg btn-block" type="button" data-toggle="collapse" [attr.data-target]="'#category-collapse-' + category.id" aria-expanded="false" [attr.aria-controls]="'category-collapse-' + category.id">
              {{ category.name }}
            </button>
          </h5>
        </div>
    
        <div id="category-collapse-{{ category.id }}" class="collapse" data-parent="#faq">
          <!-- No questions message -->
          <div class="card-body" *ngIf="category.questions.length < 1; else questionsBox">
            <p>Fant ingen spørsmål. Fyll ut spørsmål sjemaet øverst på siden hvis du ønsker svar på noe.</p>
          </div>
          <!-- Questions of a category -->
          <ng-template #questionsBox>
            <div id="category-{{category.id}}-questions" class="width-100">
                <div class="card" *ngFor="let question of category.questions">
                  <div class="card-header width-100">
                    <h5 class="mb-0">
                      <button class="btn btn-link" 
                        type="button" 
                        data-toggle="collapse" 
                        [attr.data-target]="'#collapse-question-' + question.id" 
                        aria-expanded="false" 
                        [attr.aria-controls]="'collapse-question-' + category.id">
                        {{ question.message }}
                      </button>
                    </h5>
                  </div>
                  <!-- Answer to question -->
                  <div 
                    id="collapse-question-{{ question.id }}" 
                    class="collapse" 
                    [attr.data-parent]="'#category-' + category.id + '-questions'">
                    <div class="card-body">
                      <p>Ingen svar på spørsmål</p>
                      <!-- <p *ngIf="question.answers.length < 1; else answerBox">Ingen svar på dette spørsmålet</p> -->
                      <!-- <ng-template #answerBox>
                        <div *ngFor="let answer of question.answers">
                            <p>
                              {{ answer.message }}
                            </p>  
                        </div>
                      </ng-template> -->
                    </div>
                  </div>
                </div>
              </div>
          </ng-template>
        </div>
      </div>
    </div>
  </div>
</div>